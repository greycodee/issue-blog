<!doctype html><html lang=en-us prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><head lang=en-us><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="dark light"><meta name=description content><meta name=author content><meta name=keywords content><title>Issues Blog</title><link rel=canonical href=https://blog.greycode.top/issues-blog/><link href=/issues-blog/index.xml rel=alternate type=application/rss+xml title="Issues Blog"><meta property="og:type" content="website"><meta property="og:description" content><meta property="og:title" content="Issues Blog"><meta property="og:site_name" content="Issues Blog"><meta property="og:image:type" content="image/jpeg"><meta property="og:url" content="https://blog.greycode.top/issues-blog/"><meta property="og:locale" content="en-us"><meta name=twitter:card content="summary"><meta name=twitter:title content="Issues Blog"><meta name=twitter:description content><meta name=twitter:domain content="https://blog.greycode.top/issues-blog/"><link rel=icon href=https://blog.greycode.top/issues-blog/favicon.ico><link rel=stylesheet href=//cdn.jsdelivr.net/npm/modern-normalize@1.0.0/modern-normalize.min.css><link rel=stylesheet href=https://blog.greycode.top/issues-blog/style.min.ac3c47b4dc9a506af60a9bd3f8351fd882635c7e326aa3a64223fe59caf9a852.css integrity="sha256-rDxHtNyaUGr2CpvT+DUf2IJjXH4yaqOmQiP+Wcr5qFI=" rel="preload stylesheet" as=style></head><body><script>const currentTheme=window.localStorage.getItem("theme");currentTheme==="dark"?document.body.classList.toggle("theme-dark"):currentTheme=="light"&&document.body.classList.toggle("theme-light")</script><header id=header><div class=row><div class="container has-padding nav"><button id=navbar-toggler class=navbar-button aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path d="M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z"/></svg></button><div class=navbar-brand><a class="logo navbar-button" href=https://blog.greycode.top/issues-blog/ title="Issues Blog"><span>Issues Blog</span></a></div><nav class=navbar role=navigation><ul></ul></nav><div class=theme-selector><button class="button is-text" id=theme-selector-button title="toggle theme">
<span class="label icon"><svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path d="M256 32C132.29 32 32 132.29 32 256s100.29 224 224 224 224-100.29 224-224S379.71 32 256 32zM128.72 383.28A180 180 0 01256 76v360a178.82 178.82.0 01-127.28-52.72z"/></svg></span></button></div></div><div class="container has-padding"><div class=breadcrumb></div></div></div></header><main id=main class="index-page homepage" role=main><div class="container has-padding"><div class=article-list><article class=post><h3 class=title><a href=https://blog.greycode.top/issues-blog/posts/1/ title="nginx é…ç½®åå‘ä»£ç†åå“åº”502è§£å†³åŠæ³•">nginx é…ç½®åå‘ä»£ç†åå“åº”502è§£å†³åŠæ³•</a></h3><div class="content summary"><p>é—®é¢˜ åœ¨é…ç½®åå“ä»£ç†åˆ°æœ¬åœ° 127.0.0.1:7788 è¿™ä¸ªåœ°å€åï¼Œè¯·æ±‚ nginx åœ°å€å“åº” 502 æŸ¥çœ‹ /var/log/nginx/error.log æ—¥å¿—æ–‡ä»¶æç¤ºå¦‚ä¸‹ï¼š
2022/11/19 08:51:11 [crit] 4210#0: *1 connect() to 127.0.0.1:7788 failed (13: Permission denied) while connecting to upstream, client: 20.222.186.137, server: ntfy.greycode.top, request: "GET / HTTP/1.1", upstream: "http://127.0.0.1:7788/", host: "test.com" è§£å†³ æ ¹æ®stackoverflowçš„å›ç­”ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è§£å†³é—®é¢˜
setsebool -P httpd_can_network_connect 1</p></div><a class=readmore href=https://blog.greycode.top/issues-blog/posts/1/ aria-label="READ MORE">READ MORE</a><div class=right><time datetime=2023-03-17T14:58:25+0800 class=date>March 17, 2023</time></div></article><article class=post><h3 class=title><a href=https://blog.greycode.top/issues-blog/posts/2/ title="Oracle Cloud å®ä¾‹å¼€å¯ç«¯å£è®¿é—®">Oracle Cloud å®ä¾‹å¼€å¯ç«¯å£è®¿é—®</a></h3><div class="content summary"><p>åŸæ–‡ï¼šhttps://blog.csdn.net/austin1000/article/details/125840927
åŸå›  Oracle Cloud vpså»ºç«‹æˆåŠŸåï¼Œåœ¨ VNIC å­ç½‘ä¸­å®‰å…¨ç»„ä¸­é…ç½®äº†ç«¯å£è¿˜æ˜¯æ— æ³•è®¿é—®ã€‚
è§£å†³åŠæ³• åœ¨ VNIC å­ç½‘ä¸­é…ç½®å®‰å…¨ç»„ï¼Œå¼€å¯å¤–éƒ¨éœ€è¦è®¿é—®çš„ç«¯å£ã€‚ ç„¶åå…³é—­ç³»ç»Ÿé˜²ç«å¢™
ubuntu # å¼€æ”¾æ‰€æœ‰ç«¯å£ iptables -P INPUT ACCEPT iptables -P FORWARD ACCEPT iptables -P OUTPUT ACCEPT iptables -F # åˆ é™¤é˜²ç«å¢™ apt-get purge netfilter-persistent && reboot æˆ– rm -rf /etc/iptables && reboot Centos # åˆ é™¤å¤šä½™é™„ä»¶ systemctl stop oracle-cloud-agent systemctl disable oracle-cloud-agent systemctl stop oracle-cloud-agent-updater systemctl disable oracle-cloud-agent-updater # å…³é—­é˜²ç«å¢™å¹¶ç¦æ­¢è‡ªå¯åŠ¨ systemctl stop firewalld.service systemctl disable firewalld.service</p></div><a class=readmore href=https://blog.greycode.top/issues-blog/posts/2/ aria-label="READ MORE">READ MORE</a><div class=right><time datetime=2023-03-17T14:58:25+0800 class=date>March 17, 2023</time></div></article><article class=post><h3 class=title><a href=https://blog.greycode.top/issues-blog/posts/4/ title="ä½¿ç”¨ ab å‘½ä»¤å¯¹ http æœåŠ¡è¿›è¡Œå‹æµ‹">ä½¿ç”¨ ab å‘½ä»¤å¯¹ http æœåŠ¡è¿›è¡Œå‹æµ‹</a></h3><div class="content summary"><p>abå‘½ä»¤å…¨ç§°ä¸ºï¼šApache bench ã€‚æ˜¯Apacheè‡ªå¸¦çš„å‹åŠ›æµ‹è¯•å·¥å…·ã€‚abå‘½ä»¤éå¸¸å®ç”¨ï¼Œå®ƒä¸ä»…å¯ä»¥å¯¹ApacheæœåŠ¡å™¨è¿›è¡Œç½‘ç«™è®¿é—®å‹åŠ›æµ‹è¯•ï¼Œä¹Ÿå¯ä»¥å¯¹æˆ–å…¶å®ƒç±»å‹çš„æœåŠ¡å™¨è¿›è¡Œå‹åŠ›æµ‹è¯•ã€‚å¯ä»¥æµ‹è¯•å®‰è£…WebæœåŠ¡å™¨æ¯ç§’ç§å¤„ç†çš„HTTPè¯·æ±‚ã€‚
ä½¿ç”¨ Go åˆ›å»ºä¸€ä¸ªç®€å•çš„ http æ¥å£ package main import ( "log" "net/http" ) func main() { http.HandleFunc("/hello", func(w http.ResponseWriter, r *http.Request) { w.Write([]byte("Hello World")) }) err := http.ListenAndServe(":8888", nil) if err != nil { log.Fatalf("ListenAndServe: %v", err) } } ä½¿ç”¨ ab å‘½ä»¤è¿›è¡Œå‹æµ‹ # å¹¶å‘ 1 00 ä¸ªè¿æ¥ï¼Œå…± 10000 ä¸ªè¯·æ±‚ ab -n 10000 -c 100 http://localhost:8888/hello ç»“æœï¼š
This is ApacheBench, Version 2.3 &lt;$Revision: 1901567 $> Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.</p><span class=hellip>&mldr;</span></div><a class=readmore href=https://blog.greycode.top/issues-blog/posts/4/ aria-label="READ MORE">READ MORE</a><div class=right><time datetime=2023-03-17T14:58:25+0800 class=date>March 17, 2023</time></div></article><article class=post><h3 class=title><a href=https://blog.greycode.top/issues-blog/posts/3/ title=ä½¿ç”¨certbot>ä½¿ç”¨certbot</a></h3><div class="content summary"><p>1 dnf install certbot 2 yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm 3 dnf install certbot 4 dnf install python3-certbot-nginx 5 dnf install nginx 6 nginx 7 systemctl stop oracle-cloud-agent 8 systemctl disable oracle-cloud-agent 9 systemctl stop oracle-cloud-agent-updater 10 systemctl disable oracle-cloud-agent-updater 11 systemctl stop firewalld.service 12 systemctl disable firewalld.service 13 certbot --nginx -d bark.greycode.top 14 history</p></div><a class=readmore href=https://blog.greycode.top/issues-blog/posts/3/ aria-label="READ MORE">READ MORE</a><div class=right><time datetime=2023-03-17T14:58:25+0800 class=date>March 17, 2023</time></div></article><article class=post><h3 class=title><a href=https://blog.greycode.top/issues-blog/posts/11/ title="Docker å®¢æˆ·ç«¯(Linux)é…ç½®ä»£ç† pull é•œåƒ">Docker å®¢æˆ·ç«¯(Linux)é…ç½®ä»£ç† pull é•œåƒ</a></h3><div class="content summary"><p>åŸå›  èº«å¤„å¢™å›½ï¼Œæ‹‰å–é•œåƒéå¸¸æ…¢ï¼Œæ‰€ä»¥è¦è®¾ç½®ä»£ç†æ¥æå‡æ‹‰å–é•œåƒçš„é€Ÿåº¦ã€‚
è®¾ç½®æ–¹æ³• åˆ›å»ºæ–‡ä»¶å¤¹ $ sudo mkdir -p /etc/systemd/system/docker.service.d æ–°å»ºé…ç½®æ–‡ä»¶ $ sudo vim /etc/systemd/system/docker.service.d/http-proxy.conf å¡«å…¥ä»£ç†é…ç½®ï¼š
[Service] Environment="HTTP_PROXY=http://127.0.0.1:7890" Environment="HTTPS_PROXY=http://127.0.0.1:7890" Environment="NO_PROXY=your-registry.com,10.10.10.10,*.example.com" å¦‚æœä½ è‡ªå·±å»ºäº†ç§æœ‰çš„é•œåƒä»“åº“ï¼Œéœ€è¦ dockerd ç»•è¿‡ä»£ç†æœåŠ¡å™¨ç›´è¿ï¼Œé‚£ä¹ˆé…ç½® NO_PROXY å˜é‡ï¼Œå¤šä¸ª NO_PROXY å˜é‡çš„å€¼ç”¨é€—å·åˆ†éš”ï¼Œè€Œä¸”å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼ˆ*ï¼‰ï¼Œæç«¯æƒ…å†µä¸‹ï¼Œå¦‚æœ NO_PROXY=*ï¼Œé‚£ä¹ˆæ‰€æœ‰è¯·æ±‚éƒ½å°†ä¸é€šè¿‡ä»£ç†æœåŠ¡å™¨ã€‚å¦‚æœä¸éœ€è¦å¯ä»¥ç›´æ¥ä¸è®¾ç½®è¿™ä¸ªå˜é‡
é‡å¯æœåŠ¡ $ sudo systemctl daemon-reload $ sudo systemctl restart docker æ£€æŸ¥é…ç½® $ sudo systemctl show --property=Environment docker [sudo] password for zheng: Environment=HTTP_PROXY=http://127.0.0.1:7890 HTTPS_PROXY=http://127.0.0.1:7890 è®¾ç½®æˆåŠŸğŸ‰</p></div><a class=readmore href=https://blog.greycode.top/issues-blog/posts/11/ aria-label="READ MORE">READ MORE</a><div class=right><time datetime=2023-03-17T14:58:24+0800 class=date>March 17, 2023</time></div></article></div><div class=pagination><ul class=pagination-container><li class="page-item to-left"><a href=/issues-blog/ class=page-link aria-label=Previous><span aria-hidden=true>&#171; Previous</span></a></li><li class="page-item page-number"><a class=page-link href=/issues-blog/>1</a></li><li class="page-item current page-number"><a class=page-link href=/issues-blog/page/2/>2</a></li><li class="page-item page-number"><a class=page-link href=/issues-blog/page/3/>3</a></li><li class="page-item disabled"><span aria-hidden=true>&nbsp;&mldr;&nbsp;</span></li><li class="page-item page-number"><a class=page-link href=/issues-blog/page/6/>6</a></li><li class="page-item to-right"><a href=/issues-blog/page/3/ class=page-link aria-label=Next><span aria-hidden=true>Next &#187;</span></a></li></ul></div></div></main><footer id=footer><div class="container has-padding is-flex"><ul class=links><li><a class="nav-link navbar-button" href=https://blog.greycode.top/issues-blog/index.xml type=application/rss+xml>RSS</a></li><li><a rel=nofollow target=_blank href=https://github.com/wayjam/hugo-theme-fluency title="using Hugo theme fluency">Theme Fluency</a></li><li><a rel=nofollow target=_blank href=https://gohugo.io title="Built with hugo">Built with Hugo</a></li></ul><div class=copyright>&copy; 2023 Issues Blog</div></div></footer><script>window.FluencyCopyIcon=`






\u003csvg xmlns=\u0027http://www.w3.org/2000/svg\u0027 class=\u0027ionicon\u0027 viewBox=\u00270 0 512 512\u0027\u003e\u003crect x=\u0027128\u0027 y=\u0027128\u0027 width=\u0027336\u0027 height=\u0027336\u0027 rx=\u002757\u0027 ry=\u002757\u0027 stroke-linejoin=\u0027round\u0027 class=\u0027ionicon-fill-none ionicon-stroke-width\u0027/\u003e\u003cpath d=\u0027M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24\u0027 stroke-linecap=\u0027round\u0027 stroke-linejoin=\u0027round\u0027 class=\u0027ionicon-fill-none ionicon-stroke-width\u0027/\u003e\u003c/svg\u003e










`</script><script defer src=https://blog.greycode.top/issues-blog/js/main.min.22edf5bac5dfa68a0215a42702e2a71503d57bedadc157af46b990895734f033.js integrity="sha256-Iu31usXfpooCFaQnAuKnFQPVe+2twVevRrmQiVc08DM=" crossorigin=anonymous async></script><noscript><style type=text/css>#theme-selector-button{display:none}</style></noscript></body></html>