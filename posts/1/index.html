<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="问题在配置反响代理到本地 127.0.0.1:7788 这个地址后，请求 nginx 地址响应 502查看 /var/log/nginx/error.log 日志文件提示如下：shell2022/11/19 08:51:11 [crit] 4210#0: *1 connect() to 127.0.0.1:7788 failed (13: Permission denied) while connecting to upstream, client: 20.222.186.137, server: ntfy.greycode.top, request: &#34;GET / HTTP/1.1&#34;, upstream: &#34;http://127.0.0.1:7788/&#34;, host: &#34;test.com&#34;## 解决根据stackoverflow的回答，执行如下命令解决问题shellsetsebool -P httpd_can_network_connect 1"><title>nginx 配置反向代理后响应502解决办法</title><link rel="shortcut icon" type=image/x-icon href=/issues-blog/><link rel=stylesheet href=/issues-blog/css/main.ebe15b0394daa6798b8a40aa572a71b5a7a1beb8cc02c392f5c142e7d08ddb6052e049639385106440b538f394884685082b7441eef27a6a8315ec723155dc15.css integrity="sha512-6+FbA5TapnmLikCqVypxtaehvrjMAsOS9cFC59CN22BS4Eljk4UQZEC1OPOUiEaFCCt0Qe7yemqDFexyMVXcFQ=="></head><body a=auto><main class=page-content aria-label=Content><div class=w><a href=/>..</a><article><p class=post-meta><time datetime="2023-03-17 14:58:25 +0800 +0800">2023-03-17</time></p><h1>nginx 配置反向代理后响应502解决办法</h1><h2 id=问题-在配置反响代理到本地-1270017788-这个地址后请求-nginx-地址响应-502-查看-varlognginxerrorlog-日志文件提示如下-shell-20221119-085111-crit-42100-1-connect-to-1270017788-failed-13-permission-denied-while-connecting-to-upstream-client-20222186137-server-ntfygreycodetop-request-get--http11-upstream-http1270017788-host-testcom----解决-根据stackoverflowhttpsstackoverflowcomquestions2394852713-permission-denied-while-connecting-to-upstreamnginx的回答执行如下命令解决问题-shell-setsebool--p-httpd_can_network_connect-1->问题
在配置反响代理到本地 <code>127.0.0.1:7788</code> 这个地址后，请求 nginx 地址响应 502
查看 <code>/var/log/nginx/error.log</code> 日志文件提示如下：
<code>shell
2022/11/19 08:51:11 [crit] 4210#0: *1 connect() to 127.0.0.1:7788 failed (13: Permission denied) while connecting to upstream, client: 20.222.186.137, server: ntfy.greycode.top, request: "GET / HTTP/1.1", upstream: "http://127.0.0.1:7788/", host: "test.com"</code>
## 解决
根据<a href=https://stackoverflow.com/questions/23948527/13-permission-denied-while-connecting-to-upstreamnginx>stackoverflow</a>的回答，执行如下命令解决问题
<code>shell
setsebool -P httpd_can_network_connect 1</code></h2></article></div></main></body></html>