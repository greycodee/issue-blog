<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on Issues Blog</title><link>https://blog.greycode.top/issues-blog/posts/</link><description>Recent content in Posts on Issues Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Fri, 17 Mar 2023 07:00:51 +0000</lastBuildDate><atom:link href="https://blog.greycode.top/issues-blog/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>åˆ›å»ºGithub Action å·¥ä½œæµ</title><link>https://blog.greycode.top/issues-blog/posts/40/</link><pubDate>Fri, 17 Mar 2023 07:00:51 +0000</pubDate><guid>https://blog.greycode.top/issues-blog/posts/40/</guid><description>gg</description></item><item><title>nginx é…ç½®åå‘ä»£ç†åå“åº”502è§£å†³åŠæ³•</title><link>https://blog.greycode.top/issues-blog/posts/1/</link><pubDate>Fri, 17 Mar 2023 14:58:25 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/1/</guid><description>é—®é¢˜
åœ¨é…ç½®åå“ä»£ç†åˆ°æœ¬åœ° 127.0.0.1:7788 è¿™ä¸ªåœ°å€åï¼Œè¯·æ±‚ nginx åœ°å€å“åº” 502
æŸ¥çœ‹ /var/log/nginx/error.log æ—¥å¿—æ–‡ä»¶æç¤ºå¦‚ä¸‹ï¼š
shell
2022/11/19 08:51:11 [crit] 4210#0: *1 connect() to 127.0.0.1:7788 failed (13: Permission denied) while connecting to upstream, client: 20.222.186.137, server: ntfy.greycode.top, request: &amp;quot;GET / HTTP/1.1&amp;quot;, upstream: &amp;quot;http://127.0.0.1:7788/&amp;quot;, host: &amp;quot;test.com&amp;quot;
## è§£å†³
æ ¹æ®stackoverflowçš„å›ç­”ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è§£å†³é—®é¢˜
shell
setsebool -P httpd_can_network_connect 1</description></item><item><title>Oracle Cloud å®ä¾‹å¼€å¯ç«¯å£è®¿é—®</title><link>https://blog.greycode.top/issues-blog/posts/2/</link><pubDate>Fri, 17 Mar 2023 14:58:25 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/2/</guid><description>åŸæ–‡ï¼šhttps://blog.csdn.net/austin1000/article/details/125840927
## åŸå› 
Oracle Cloud vpså»ºç«‹æˆåŠŸåï¼Œåœ¨ VNIC å­ç½‘ä¸­å®‰å…¨ç»„ä¸­é…ç½®äº†ç«¯å£è¿˜æ˜¯æ— æ³•è®¿é—®ã€‚
## è§£å†³åŠæ³•
åœ¨ VNIC å­ç½‘ä¸­é…ç½®å®‰å…¨ç»„ï¼Œå¼€å¯å¤–éƒ¨éœ€è¦è®¿é—®çš„ç«¯å£ã€‚
ç„¶åå…³é—­ç³»ç»Ÿé˜²ç«å¢™
### ubuntu
shell
# å¼€æ”¾æ‰€æœ‰ç«¯å£
iptables -P INPUT ACCEPT
iptables -P FORWARD ACCEPT
iptables -P OUTPUT ACCEPT
iptables -F
# åˆ é™¤é˜²ç«å¢™
apt-get purge netfilter-persistent &amp;amp;&amp;amp; reboot
æˆ– rm -rf /etc/iptables &amp;amp;&amp;amp; reboot
### Centos
shell
# åˆ é™¤å¤šä½™é™„ä»¶
systemctl stop oracle-cloud-agent
systemctl disable oracle-cloud-agent
systemctl stop oracle-cloud-agent-updater
systemctl disable oracle-cloud-agent-updater
# å…³é—­é˜²ç«å¢™å¹¶ç¦æ­¢è‡ªå¯åŠ¨
systemctl stop firewalld.service
systemctl disable firewalld.</description></item><item><title>ä½¿ç”¨ ab å‘½ä»¤å¯¹ http æœåŠ¡è¿›è¡Œå‹æµ‹</title><link>https://blog.greycode.top/issues-blog/posts/4/</link><pubDate>Fri, 17 Mar 2023 14:58:25 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/4/</guid><description>abå‘½ä»¤å…¨ç§°ä¸ºï¼šApache bench ã€‚æ˜¯Apacheè‡ªå¸¦çš„å‹åŠ›æµ‹è¯•å·¥å…·ã€‚abå‘½ä»¤éå¸¸å®ç”¨ï¼Œå®ƒä¸ä»…å¯ä»¥å¯¹ApacheæœåŠ¡å™¨è¿›è¡Œç½‘ç«™è®¿é—®å‹åŠ›æµ‹è¯•ï¼Œä¹Ÿå¯ä»¥å¯¹æˆ–å…¶å®ƒç±»å‹çš„æœåŠ¡å™¨è¿›è¡Œå‹åŠ›æµ‹è¯•ã€‚å¯ä»¥æµ‹è¯•å®‰è£…WebæœåŠ¡å™¨æ¯ç§’ç§å¤„ç†çš„HTTPè¯·æ±‚ã€‚
## ä½¿ç”¨ Go åˆ›å»ºä¸€ä¸ªç®€å•çš„ http æ¥å£
go
package main
import (
&amp;quot;log&amp;quot;
&amp;quot;net/http&amp;quot;
)
func main() {
http.HandleFunc(&amp;quot;/hello&amp;quot;, func(w http.ResponseWriter, r *http.Request) {
w.Write([]byte(&amp;quot;Hello World&amp;quot;))
})
err := http.ListenAndServe(&amp;quot;:8888&amp;quot;, nil)
if err != nil {
log.Fatalf(&amp;quot;ListenAndServe: %v&amp;quot;, err)
}
}
## ä½¿ç”¨ ab å‘½ä»¤è¿›è¡Œå‹æµ‹
shell
# å¹¶å‘ 1 00 ä¸ªè¿æ¥ï¼Œå…± 10000 ä¸ªè¯·æ±‚
ab -n 10000 -c 100 http://localhost:8888/hello
ç»“æœï¼š
shell
This is ApacheBench, Version 2.3 &amp;lt;$Revision: 1901567 $&amp;gt;
Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.</description></item><item><title>ä½¿ç”¨certbot</title><link>https://blog.greycode.top/issues-blog/posts/3/</link><pubDate>Fri, 17 Mar 2023 14:58:25 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/3/</guid><description>shell
1 dnf install certbot
2 yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm
3 dnf install certbot
4 dnf install python3-certbot-nginx
5 dnf install nginx
6 nginx
7 systemctl stop oracle-cloud-agent
8 systemctl disable oracle-cloud-agent
9 systemctl stop oracle-cloud-agent-updater
10 systemctl disable oracle-cloud-agent-updater
11 systemctl stop firewalld.service
12 systemctl disable firewalld.service
13 certbot --nginx -d bark.greycode.top
14 history</description></item><item><title>Docker å®¢æˆ·ç«¯(Linux)é…ç½®ä»£ç† pull é•œåƒ</title><link>https://blog.greycode.top/issues-blog/posts/11/</link><pubDate>Fri, 17 Mar 2023 14:58:24 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/11/</guid><description>åŸå› 
èº«å¤„å¢™å›½ï¼Œæ‹‰å–é•œåƒéå¸¸æ…¢ï¼Œæ‰€ä»¥è¦è®¾ç½®ä»£ç†æ¥æå‡æ‹‰å–é•œåƒçš„é€Ÿåº¦ã€‚
## è®¾ç½®æ–¹æ³•
- åˆ›å»ºæ–‡ä»¶å¤¹
shell
$ sudo mkdir -p /etc/systemd/system/docker.service.d
- æ–°å»ºé…ç½®æ–‡ä»¶
shell
$ sudo vim /etc/systemd/system/docker.service.d/http-proxy.conf
å¡«å…¥ä»£ç†é…ç½®ï¼š
toml
[Service]
Environment=&amp;quot;HTTP_PROXY=http://127.0.0.1:7890&amp;quot;
Environment=&amp;quot;HTTPS_PROXY=http://127.0.0.1:7890&amp;quot;
Environment=&amp;quot;NO_PROXY=your-registry.com,10.10.10.10,*.example.com&amp;quot;
&amp;gt; å¦‚æœä½ è‡ªå·±å»ºäº†ç§æœ‰çš„é•œåƒä»“åº“ï¼Œéœ€è¦ dockerd ç»•è¿‡ä»£ç†æœåŠ¡å™¨ç›´è¿ï¼Œé‚£ä¹ˆé…ç½® NO_PROXY å˜é‡ï¼Œå¤šä¸ª NO_PROXY å˜é‡çš„å€¼ç”¨é€—å·åˆ†éš”ï¼Œè€Œä¸”å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼ˆ*ï¼‰ï¼Œæç«¯æƒ…å†µä¸‹ï¼Œå¦‚æœ NO_PROXY=*ï¼Œé‚£ä¹ˆæ‰€æœ‰è¯·æ±‚éƒ½å°†ä¸é€šè¿‡ä»£ç†æœåŠ¡å™¨ã€‚å¦‚æœä¸éœ€è¦å¯ä»¥ç›´æ¥ä¸è®¾ç½®è¿™ä¸ªå˜é‡
- é‡å¯æœåŠ¡
shell
$ sudo systemctl daemon-reload
$ sudo systemctl restart docker
- æ£€æŸ¥é…ç½®
shell
$ sudo systemctl show --property=Environment docker
[sudo] password for zheng:
Environment=HTTP_PROXY=http://127.0.0.1:7890 HTTPS_PROXY=http://127.0.0.1:7890
è®¾ç½®æˆåŠŸğŸ‰</description></item><item><title>Nginx Process Model</title><link>https://blog.greycode.top/issues-blog/posts/12/</link><pubDate>Fri, 17 Mar 2023 14:58:24 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/12/</guid><description>Introduction
Nginx adopts a unique master and multi workers process pool mechanism, which guarantees stable operation and flexible configuration of Nginx.
Usually, Nginx will start a master process and multiple worker processes to provide external services. The master process, known as the monitoring process, did not handle specific TCP/HTTP requests and received only the Unix signal.
Worker processes compete equally for accepting client connections, executing the main business logic of Nginx, and Using epoll, kqueue, and other mechanisms to process TCP/HTTP requests efficiently.</description></item><item><title>OpenResty å®‰è£…å…¥é—¨æ•™ç¨‹</title><link>https://blog.greycode.top/issues-blog/posts/8/</link><pubDate>Fri, 17 Mar 2023 14:58:24 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/8/</guid><description>## æ–¹æ³•1: [æ¨è] æºç ç¼–è¯‘å®‰è£…
å»ä¸‹è½½é¡µé¢ä¸‹è½½æºç åŒ…,ç„¶åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤è¿›è¡Œè§£å‹,ç¼–è¯‘å’Œå®‰è£…
shell
tar -xvf openresty-VERSION.tar.gz
cd openresty-VERSION/
./configure -j2
make -j2
sudo make install
# better also add the following line to your ~/.bashrc or ~/.bash_profile file.
export PATH=/usr/local/openresty/bin:$PATH
## æ–¹æ³•2: åœ¨ ArchLinux å®‰è£…
åœ¨å®˜æ–¹é¢„ç¼–è¯‘åŒ…åˆ—è¡¨ä¸­ï¼Œæ²¡æœ‰ç¼–è¯‘ ArchLinux çš„åŒ…ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ yay åŒ…ç®¡ç†å™¨æ¥å®‰è£…ï¼Œå¯ä»¥çœ‹AURåœ°å€
é¦–å…ˆè¦åœ¨ç”µè„‘ä¸Šå®‰è£… yay åŒ…ç®¡ç†å™¨ï¼Œç„¶åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š
shell
yay -S openresty
ç­‰å‘½ä»¤æ‰§è¡Œå®Œï¼ŒæŒ‰æç¤ºåœ¨ä½ çš„ç¯å¢ƒå˜é‡æ–‡ä»¶ä¸­æ·»åŠ  OpenResty çš„å®‰è£…è·¯å¾„ï¼Œå°±æ·»åŠ ä¸‹é¢è¿™ä¸€è¡Œåˆ°ä½ çš„ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ä¸­
shell
export PATH=/opt/openresty/bin:$PATH
ç„¶åæ¿€æ´»ä¸€ä¸‹ç¯å¢ƒå˜é‡ï¼Œå°±å®‰è£…æˆåŠŸäº†
## OpenResty å‘½ä»¤ä»‹ç»
shell
â•°â”€$ sudo openresty -h
[sudo] password for zheng:
nginx version: openresty/1.</description></item><item><title>Raft å…±è¯†ç®—æ³•</title><link>https://blog.greycode.top/issues-blog/posts/10/</link><pubDate>Fri, 17 Mar 2023 14:58:24 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/10/</guid><description>null</description></item><item><title>vite é¡¹ç›®é…ç½®è·¨åŸŸä»£ç†</title><link>https://blog.greycode.top/issues-blog/posts/13/</link><pubDate>Fri, 17 Mar 2023 14:58:24 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/13/</guid><description>åœ¨ vite.config.ts æ–‡ä»¶ä¸‹æ·»åŠ å¦‚ä¸‹é…ç½®
ts
server: {
cors: true, // é»˜è®¤å¯ç”¨å¹¶å…è®¸ä»»ä½•æº
proxy: {
'/api': {
target: 'http://192.168.1.2:8001/',
changeOrigin: true,
rewrite: (path) =&amp;gt; path.replace(/^\/api/, '')
},
}
}
æ–‡ä»¶å…¨æ–‡ï¼š
ts
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
// https://vitejs.dev/config/
export default defineConfig({
plugins: [react()],
server: {
cors: true, // é»˜è®¤å¯ç”¨å¹¶å…è®¸ä»»ä½•æº
proxy: {
'/api': {
target: 'http://192.168.1.2:8001/',
changeOrigin: true,
rewrite: (path) =&amp;gt; path.replace(/^\/api/, '')
},
}
}
})</description></item><item><title>ä»€ä¹ˆæ˜¯ FFI ï¼Ÿ</title><link>https://blog.greycode.top/issues-blog/posts/9/</link><pubDate>Fri, 17 Mar 2023 14:58:24 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/9/</guid><description>null</description></item><item><title>ä½¿ç”¨ http_load å¯¹ http æœåŠ¡è¿›è¡Œå‹æµ‹</title><link>https://blog.greycode.top/issues-blog/posts/5/</link><pubDate>Fri, 17 Mar 2023 14:58:24 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/5/</guid><description>å®‰è£…
shell
# macOS
brew install http_load
æˆ–åˆ™ç›´æ¥å» http://www.acme.com/software/http_load/ ä¸‹è½½
## ä½¿ç”¨
ç°å®šä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œé‡Œé¢æ”¾ä¸Šè¦å‹æµ‹ url
urls.txt
txt
http://localhost:8888/hello
æ‰§è¡Œå‘½ä»¤
shell
http_load -p 50 -s 5 urls.txt
-p 50 å‘½ä»¤è¡¨ç¤º50ä¸ªè¿æ¥è¿›ç¨‹ï¼Œ-s 5 è¡¨ç¤ºæŒç»­ 5 ç§’
ç»“æœï¼š
shell
16284 fetches, 50 max parallel, 179124 bytes, in 5.00497 seconds
11 mean bytes/connection
3253.56 fetches/sec, 35789.2 bytes/sec
msecs/connect: 2.44797 mean, 862.047 max, 0.098 min
msecs/first-response: 2.30903 mean, 861.732 max, 0.116 min
HTTP response codes:</description></item><item><title>å°ç±³(umi)ä½¿ç”¨ fastboot åˆ·æœº</title><link>https://blog.greycode.top/issues-blog/posts/6/</link><pubDate>Fri, 17 Mar 2023 14:58:24 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/6/</guid><description>æ‰§è¡Œè¿‡ç¨‹
ç›´æ¥åœ¨ç»ˆç«¯å‘½ä»¤è¡Œä½¿ç”¨ fastboot å‘½ä»¤è¿›è¡Œåˆ·æœº(æ‰‹æœºéœ€å…ˆç”³è¯·è§£é”)
1. åœ¨è®¾ç½®ä¸­æ‰“å¼€ USB è°ƒè¯•ï¼Œç„¶åè¿æ¥ç”µè„‘
2. æ‰§è¡Œå‘½ä»¤ adb reboot bootloader è¿›å…¥fastboot æ¨¡å¼
3. ä¸‹è½½ MIUI çº¿åˆ·åŒ…ï¼Œè§£å‹åï¼Œæ‰§è¡Œ flash_all.sh å‘½ä»¤
4. ç­‰å¾…åˆ·æœºå®Œæˆ</description></item><item><title>å°ç±³(umi)åˆ·å…¥ Magisk</title><link>https://blog.greycode.top/issues-blog/posts/7/</link><pubDate>Fri, 17 Mar 2023 14:58:24 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/7/</guid><description>é¦–å…ˆè¦ç¡®å®šå½“å‰æ‰‹æœºçš„ROMç‰ˆæœ¬ï¼Œç„¶åä¸‹è½½å¯¹åº”çš„çº¿åˆ·åŒ…
è§£å‹çº¿åˆ·åŒ…ï¼Œç„¶åè¿›å…¥è§£å‹åçš„æ–‡ä»¶å¤¹é‡Œï¼Œä¸Šä¸Šä¼  images æ–‡ä»¶å¤¹ä¸‹çš„ boot.img æ–‡ä»¶åˆ°æ‰‹æœº
å¯ä»¥ç›´æ¥ä½¿ç”¨ adb å‘½ä»¤ä¸Šä¼ 
shell
adb push boot.img /storage/self/primary
ç„¶ååˆ° Magisk Release ä¸‹è½½æœ€æ–°ç‰ˆæœ¬APPï¼Œä¸Šä¼ åˆ°æ‰‹æœºå®‰è£…
æ‰‹æœºè¿›å…¥ Magisk Appï¼Œç‚¹å‡»ç¬¬ä¸€ä¸ª Magisk æ¨¡å—ä¸Šçš„å®‰è£…ï¼ˆä¸è¦å‹¾é€‰ vbmeatç›¸å…³é€‰é¡¹ï¼‰ï¼Œç‚¹å‡»é€‰æ‹©ä¸€ä¸ªè¡¥ä¸ï¼Œé€‰æ‹©åˆšæ‰ä¸Šä¼ çš„ boot.img æ–‡ä»¶ã€‚
æ­¤æ—¶ä¼šæ‰§è¡Œç¼–è¯‘ï¼Œç„¶åè®°ä¸‹Appç•Œé¢ä¸Šå‡ºç°ä¿å­˜ç¼–è¯‘åçš„æ–‡ä»¶åœ°å€ï¼Œæ‰§è¡Œå‘½ä»¤ä¿å­˜åˆ°ç”µè„‘ä¸Š
shell
adb pull /storage/emulated/0/Download/magisk_patched-25200_UpxP7.img
ç”µè„‘æ‰§è¡Œå‘½ä»¤ï¼Œæ‰‹æœºè¿›å…¥ fastboot æ¨¡å¼
shell
adb reboot bootloader
ç„¶ååˆ·å…¥åˆšæ‰çš„æ–‡ä»¶
shell
fastboot flash boot magisk_patched-25200_UpxP7.img
åˆ·å…¥å®Œæˆåå°±å¯ä»¥é‡å¯æ‰‹æœºäº†
complete!</description></item><item><title>coc.nvim æ’ä»¶å®‰è£…</title><link>https://blog.greycode.top/issues-blog/posts/17/</link><pubDate>Fri, 17 Mar 2023 14:58:23 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/17/</guid><description>ç®€ä»‹
å¼€æºåœ°å€ï¼šcoc.nvim
èƒ½å¤Ÿåœ¨ neovim ä¸­ç¼–å†™ä»£ç æ—¶ï¼ŒåƒIDEä¸€æ ·å¼¹å‡ºä»£ç æå‡å¹¶å¯ä»¥è‡ªåŠ¨è¡¥å…¨
## ç¯å¢ƒè¦æ±‚
- neovim &amp;gt;= 0.4.0.
- nodejs &amp;gt;= 14.14
## å®‰è£…æ’ä»¶
ä½¿ç”¨ Packer å®‰è£… coc.nvim æ’ä»¶ï¼Œåªè¦åœ¨~/.config/nvim/lua/plugins.luaæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®
lua
use {'neoclide/coc.nvim', branch = 'release'}
full content of ~/.config/nvim/lua/plugins.lua
lua
vim.cmd [[packadd packer.nvim]]
return require('packer').startup(function()
-- Packer can manage itself
use 'wbthomason/packer.nvim'
-- æ·»åŠ  coc.vim æ’ä»¶
use {'neoclide/coc.nvim', branch = 'release'}
end)
ç„¶åæ‰§è¡Œå‘½ä»¤,ç­‰å¾…å®‰è£…å®Œæˆâœ…
shell
nvim +PackerSync
## é…ç½® coc.nvim æ’ä»¶
å®Œæˆå®‰è£…åï¼Œåªæ˜¯èƒ½å¤Ÿç®€å•çš„æç¤ºï¼Œè¿™é‡Œè¿˜éœ€è¦å®‰è£… languageServerï¼Œè¿™é‡Œä»¥å®‰è£… Go è¯­è¨€æç¤ºä¸ºä¾‹
&amp;gt; more Language Server
åœ¨ nvim ç•Œé¢ä¸­ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤
shell
:CocInstall coc-go
çœ‹åˆ°ç»¿è‰²å°å‹¾å°±è¯´æ˜å®‰è£…æˆåŠŸäº†
ç„¶ååœ¨ nvim ç•Œé¢ä¸­ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼Œè¿›å…¥ coc.</description></item><item><title>coc.nvim é…ç½® Rust ä»£ç æé†’è¡¥å…¨</title><link>https://blog.greycode.top/issues-blog/posts/18/</link><pubDate>Fri, 17 Mar 2023 14:58:23 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/18/</guid><description> å®‰è£… coc-rust-analyzer
2. å®‰è£… rust-analyzer
shell
$ git clone https://github.com/rust-lang/rust-analyzer.git &amp;amp;&amp;amp; cd rust-analyzer
$ cargo xtask install --server
3. é…ç½® coc-setting.conf
json
{
&amp;quot;languageserver&amp;quot;: {
&amp;quot;golang&amp;quot;: {
&amp;quot;command&amp;quot;: &amp;quot;gopls&amp;quot;,
&amp;quot;rootPatterns&amp;quot;: [&amp;quot;go.mod&amp;quot;],
&amp;quot;filetypes&amp;quot;: [&amp;quot;go&amp;quot;]
},
&amp;quot;rust&amp;quot;: {
&amp;quot;command&amp;quot;: &amp;quot;rust-analyzer&amp;quot;,
&amp;quot;filetypes&amp;quot;: [&amp;quot;rust&amp;quot;],
&amp;quot;rootPatterns&amp;quot;: [&amp;quot;Cargo.toml&amp;quot;]
}
},
&amp;quot;rust-analyzer.serverPath&amp;quot;: &amp;quot;~/.cargo/bin/rust-analyzer&amp;quot;
}
rust-analyzer.serverPath é…ç½®æˆ rust-analyzer å®‰è£…çš„è·¯å¾„</description></item><item><title>Docker æ„å»ºé•œåƒæ—¶è®¾ç½®ç½‘ç»œä»£ç†</title><link>https://blog.greycode.top/issues-blog/posts/21/</link><pubDate>Fri, 17 Mar 2023 14:58:23 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/21/</guid><description>æ„å»ºé•œåƒæ—¶ï¼Œéœ€è¦è¿æ¥ç½‘ç»œä¸‹è½½å¤–ç½‘æ•°æ®æ—¶ï¼Œè¿™æ—¶å€™å°±éœ€è¦è®¾ç½®ç½‘ç»œä»£ç†
1. é¦–å…ˆå¼€å¯ä½ çš„ä»£ç†è½¯ä»¶ï¼Œè·å–ä»£ç†è½¯ä»¶çš„ç›‘å¬åœ°å€ã€‚ä¾‹å¦‚æˆ‘ç”¨çš„æ˜¯ Clashï¼Œå®ƒçš„ç›‘å¬åœ°å€æ˜¯ http://127.0.0.1:7890
2. åœ¨æ‰§è¡Œ docker build å‘½ä»¤æ„å»ºæ—¶ï¼Œæ·»åŠ  --build-arg å‚æ•°
ä¾‹å¦‚ï¼š
bash
--build-arg HTTP_PROXY=http://127.0.0.1:1080
3. å®Œæ•´å‘½ä»¤
bash
docker build \
--network host \
--build-arg HTTP_PROXY=http://127.0.0.1:7890 --build-arg HTTPS_PROXY=http://127.0.0.1:7890 \
-t xxx:1.0 .</description></item><item><title>lldb æ·»åŠ  python è„šæœ¬</title><link>https://blog.greycode.top/issues-blog/posts/22/</link><pubDate>Fri, 17 Mar 2023 14:58:23 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/22/</guid><description>æ–°é”®ä¸€ä¸ª python è„šæœ¬ ~/htlloworld.py
è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š
py
def helloworld(debugger, command, result, internal_dict):
print(&amp;quot;hello world!&amp;quot;)
## lldb æ‰‹åŠ¨å¯¼å…¥ python è„šæœ¬
bash
$ lldb
(lldb) command script import ~/helloworld.py
(lldb) command script add -f helloworld.helloworld hello
(lldb) hello
hello world!
## lldb è‡ªåŠ¨å¯¼å…¥ pyhon è„šæœ¬
åœ¨ ~/htlloworld.py æ·»åŠ å¦‚ä¸‹å†…å®¹
py
def __lldb_init_module(debugger, internal_dict):
debugger.HandleCommand('command script add -f helloworld.helloworld hello')
ç„¶ååœ¨ ~/.lldbinit æ–‡ä»¶ï¼ˆå¦‚æœæ²¡è¿™ä¸ªæ–‡ä»¶å°±åˆ›å»ºä¸€ä¸ªï¼‰é‡Œæ·»åŠ å¦‚ä¸‹å†…å®¹:
init
command script import /Users/zheng/coding/test/helloworld.py
è¿™æ ·æ‰“å¼€ lldb ç›´æ¥è¾“å…¥ hello å‘½ä»¤å°±å¯ä»¥æ‰§è¡Œè¿™ä¸ªè„šæœ¬äº†</description></item><item><title>neovim å‘½ä»¤é€Ÿè®°</title><link>https://blog.greycode.top/issues-blog/posts/20/</link><pubDate>Fri, 17 Mar 2023 14:58:23 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/20/</guid><description>æ›´å¤šå¯ä»¥æŸ¥çœ‹vimæ–‡æ¡£
çª—å£å¤§å°è®¾ç½®
- :vertical resize +10 çª—å£å‚ç›´å®½åº¦åŠ 10
- :vertical resize -10 çª—å£å‚ç›´å®½åº¦å‡10
- :horizontal resize +10 çª—å£æ°´å¹³å®½åº¦åŠ 10
- :horizontal resize -10 çª—å£æ°´å¹³å®½åº¦å‡10
æ‰“å¼€ç»ˆç«¯
- :bel split | terminal or :belowright split | terminal åœ¨çª—å£ä¸Šåˆ†å‰²ä¸€ä¸ªçª—å£æ¥æ‰“å¼€æ–°ç»ˆç«¯</description></item><item><title>neovim å’Œ packer åŒ…ç®¡ç†å™¨å®‰è£…</title><link>https://blog.greycode.top/issues-blog/posts/16/</link><pubDate>Fri, 17 Mar 2023 14:58:23 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/16/</guid><description>å®‰è£… neovim
- ArchLinux shell
sudo pacman -S neovim
æ›´å¤šå®‰è£…æ–¹å¼æŸ¥çœ‹å®˜æ–¹å®‰è£…æ–‡æ¡£
## å®‰è£… packer åŒ…ç®¡ç†å™¨
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ packer æ¥ç®¡ç† neovim çš„æ’ä»¶
- Unix/Linux ç³»ç»Ÿä¸‹å®‰è£…(éœ€è¦å…ˆå®‰è£…gitï¼Œå¦‚æœ‰ç›´æ¥æ‰§è¡Œä¸‹é¢å‘½ä»¤)
shell
git clone --depth 1 https://github.com/wbthomason/packer.nvim\
~/.local/share/nvim/site/pack/packer/start/packer.nvim
- Windows PowerShell ä¸‹å®‰è£…
```shell
git clone https://github.com/wbthomason/packer.nvim &amp;ldquo;$env:LOCALAPPDATA vim-data\site\pack\packer\start\packer.nvim&amp;rdquo;
## é…ç½® packer åŒ…ç®¡ç†å™¨
å®‰è£…åï¼Œæˆ‘ä»¬éœ€è¦æ–°å»ºæ–‡ä»¶`~/.config/nvim/init.vim`
&amp;gt; è¿™æ˜¯ neovim é…ç½®æ–‡ä»¶
shell
mkdir -p ~/.config/nvim &amp;amp;&amp;amp; touch ~/.config/nvim/init.vim
ç„¶åå†æ–°å»ºä¸€ä¸ªæ–‡ä»¶`~/.config/nvim/lua/plugins.lua`
&amp;gt; è¿™æ˜¯packerç®¡ç†æ’ä»¶çš„é…ç½®
shell
mkdir -p ~/.config/nvim/lua &amp;amp;&amp;amp; touch ~/.config/nvim/lua/plugins.lua
ç„¶åç¼–è¾‘`~/.config/nvim/init.vim`é…ç½®ï¼Œå¡«å…¥å¦‚ä¸‹å†…å®¹
lua
lua require(&amp;lsquo;plugins&amp;rsquo;)
ç¼–è¾‘`~/.config/nvim/lua/plugins.lua`ï¼Œå¡«å…¥å¦‚ä¸‹å†…å®¹
lua
vim.</description></item><item><title>neovim é…ç½® nvim-tree æ–‡ä»¶æ ‘</title><link>https://blog.greycode.top/issues-blog/posts/19/</link><pubDate>Fri, 17 Mar 2023 14:58:23 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/19/</guid><description>å®‰è£…
é¦–å…ˆè¦å…ˆå®‰è£… nvim-tree.lua å’Œ nvim-web-devicons
è€è§„çŸ©,åœ¨ Packer çš„é…ç½®é‡Œæ·»åŠ è¿™ä¸¤ä¸ªçš„é…ç½®,ä¸€èˆ¬æ–‡ä»¶è·¯å¾„åœ¨ ~/.config/nvim/lua/plugins.lua
lua
use {
'nvim-tree/nvim-tree.lua',
requires = {
'nvim-tree/nvim-web-devicons', -- optional, for file icons
},
tag = 'nightly' -- optional, updated every week. (see issue #1193)
}
ç„¶åä¿å­˜,å¹¶æ‰§è¡Œå‘½ä»¤è¿›è¡Œå®‰è£…
shell
$ nvim +PackerInstall
## é…ç½® nvim-tree
å®‰è£…å®Œæˆå,è¿˜è¦æ·»åŠ ä¸‹ nvim-tree çš„åˆå§‹åŒ–é…ç½®æ–‡ä»¶
æ–°å»ºæ–‡ä»¶å¤¹å’Œæ–‡ä»¶
shell
$ mkdir -p ~/.config/nvim/lua/plugin-config &amp;amp;&amp;amp; touch ~/.config/nvim/lua/plugin-config/nvim-tree.lua
åœ¨æ–‡ä»¶ ~/.config/nvim/lua/plugin-config/nvim-tree.lua é‡Œå¡«å…¥å¦‚ä¸‹é…ç½®
lua
-- examples for your init.lua
-- disable netrw at the very start of your init.</description></item><item><title>oci-go-sdk é…ç½®æ–‡ä»¶åˆ›å»ºæµç¨‹</title><link>https://blog.greycode.top/issues-blog/posts/24/</link><pubDate>Fri, 17 Mar 2023 14:58:23 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/24/</guid><description>åˆ›å»ºç”¨æˆ·
- é¦–å…ˆåœ¨ç”¨æˆ·é¡µé¢ä¸­åˆ›å»ºä¸€ä¸ª IAM ç”¨æˆ·
- ç„¶ååˆ›å»ºä¸€ä¸ªç»„ï¼ŒæŠŠåˆšæ‰åˆ›å»ºçš„ç”¨æˆ·åŠ è¿›æ¥
- åˆ›å»ºç»„çš„ç­–ç•¥
### å¯¹è±¡å­˜å‚¨ç”¨åˆ°çš„ç­–ç•¥
- å†™å…¥æƒé™
- ä¸‹è½½æƒé™
- é¢„éªŒè¯è¯·æ±‚è¦ç”¨åˆ°çš„ç®¡ç†æƒé™
## åˆ›å»º API KEY
1. åœ¨ç”¨æˆ·é¡µé¢ä¸­ï¼Œç‚¹å‡»åˆšæ‰åˆ›å»ºçš„ç”¨æˆ·ï¼Œè¿›å…¥è¿™ä¸ªç”¨æˆ·çš„ profile
2. ç‚¹å‡» API å¯†é’¥
3. ç‚¹å‡» æ·»åŠ  API å¯†é’¥
4. ç„¶åé€‰æ‹©ç”Ÿæˆ API å¯†é’¥å¯¹
5. ä¸‹è½½ç§é’¥å¹¶ä¿æŒåˆ°æœ¬åœ°
6. ç‚¹å‡»æ·»åŠ åï¼Œå°†æ–‡æœ¬æ¡†çš„å†…å®¹ç²˜è´´åˆ° ~/.oci/config æ–‡ä»¶ä¸­ã€‚
7. ä¿®æ”¹ ~/.oci/config ä¸­ key_file å­—æ®µçš„å€¼ä¸ºä½ åˆšæ‰ä¿æŒç§é’¥çš„è·¯å¾„
è¿™æ ·å°±å¯ä»¥ä½¿ç”¨ oci-go-sdk äº†</description></item><item><title>VSCode è®¾ç½® markdown snippets</title><link>https://blog.greycode.top/issues-blog/posts/23/</link><pubDate>Fri, 17 Mar 2023 14:58:23 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/23/</guid><description>è®¾ç½® Snippets
1. åœ¨ VSCode ç•Œé¢æŒ‰å¿«æ·é”® Ctrl+Shift+P æ‰“å¼€å‘½ä»¤è¾“å…¥æ¡†
2. åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ Snippets, å¹¶é€‰æ‹© Snippets: Configure User Snippets
3. åœ¨ Snippets å‘½ä»¤æœç´¢æ¡†ä¸­è¾“å…¥ markdown, æ‰“å¼€ markdown snippets é…ç½®
4. åœ¨ markdown,json ä¸­è¾“å…¥ä½ è¦çš„å¿«æ·è¡¥è™«çš„æ–‡æœ¬ç‰‡æ®µ, æ¯”å¦‚æˆ‘è¿™è¾¹è®¾ç½®å¿«æ·æ³¨éŸ³ ruby ç‰‡æ®µ
json
{
&amp;quot;Ruby of words&amp;quot;: {
&amp;quot;prefix&amp;quot;: &amp;quot;ruby&amp;quot;,
&amp;quot;body&amp;quot;: [
&amp;quot;&amp;lt;ruby&amp;gt;$1&amp;lt;rt&amp;gt;$2&amp;lt;/rt&amp;gt;&amp;lt;/ruby&amp;gt;&amp;quot;
],
&amp;quot;description&amp;quot;: &amp;quot;Ruby of words&amp;quot;
},
}
## å¼€å¯ markdown ä»£ç ç‰‡æ®µè¡¥å……
è®¾ç½®äº† snippets åï¼Œmarkdown è¿˜æ˜¯ä¸èƒ½ä½¿ç”¨å¿«æ·è¡¥å……åŠŸèƒ½çš„ï¼Œè¿˜éœ€è¦åœ¨ settings.json ä¸­é…ç½®ä¸€ä¸‹
è¿˜æ˜¯ä½¿ç”¨ Ctrl+Shift+P æ‰“å¼€å‘½ä»¤è¾“å…¥æ¡†ï¼Œè¾“å…¥ settings ï¼Œé€‰æ‹© Prefernces: Open User Settings
åœ¨ json é…ç½®ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®
json
&amp;quot;[markdown]&amp;quot;: {
&amp;quot;editor.</description></item><item><title>ç”µè„‘å®‰è£… anaconda åï¼Œæ¿€æ´»ç¯å¢ƒå¯¼è‡´ zsh ä¸»é¢˜å¤±æ•ˆè§£å†³æ–¹æ³•</title><link>https://blog.greycode.top/issues-blog/posts/14/</link><pubDate>Fri, 17 Mar 2023 14:58:23 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/14/</guid><description>åŸå› 
ç³»ç»Ÿ: ArchLinux
ç»ˆç«¯shell: zsh
åœ¨å®‰è£… anaconda åï¼Œæ¿€æ´»ç¯å¢ƒåï¼Œzshç»ˆç«¯çš„ä¸»é¢˜å°±ä¼šå¤±æ•ˆ
shell
â•­â”€zheng@zhengArch ~
â•°â”€$ conda activate base
(base)
ç»ˆç«¯åªå‰©ä¸‹ conda çš„ç¯å¢ƒåï¼Œå½“æˆ‘é€€å‡º conda ç¯å¢ƒæ˜¯ï¼Œzsh ä¸»é¢˜è¿˜æ˜¯ä¸èƒ½æ¢å¤ï¼Œå¿…é¡»é‡å¯ç»ˆç«¯æ‰å¯ä»¥
é€€å‡ºç¯å¢ƒï¼š
shell
â•­â”€zheng@zhengArch ~
â•°â”€$ conda activate base
(base) conda deactivate
pwd
/home/zheng
## è§£å†³æ–¹æ³•
æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯ä»¥è§£å†³
shell
conda config --set changeps1 False
å‚è€ƒèµ„æ–™:
- conda.io
- stackoverflow
&amp;mdash;
## ç¾åŒ– oh-my-zsh ä¸»é¢˜
å¯ä»¥åœ¨ oh-my-zsh ä¸»é¢˜é…ç½®æ–‡ä»¶é‡Œä½¿ç”¨å¦‚ä¸‹å‡½æ•°æ¥è·å–å½“å‰ conda ç¯å¢ƒå
lua
# Conda info
local conda_info='$(conda_prompt_info)'
conda_prompt_info() {
if [ -n &amp;quot;$CONDA_DEFAULT_ENV&amp;quot; ]; then
echo -n &amp;quot;($CONDA_DEFAULT_ENV) &amp;quot;
else
echo -n &amp;quot;&amp;quot;
fi
}
bira.</description></item><item><title>é«˜æ€§èƒ½ç½‘å…³åŸºçŸ³â€”â€”OpenResty</title><link>https://blog.greycode.top/issues-blog/posts/15/</link><pubDate>Fri, 17 Mar 2023 14:58:23 +0800</pubDate><guid>https://blog.greycode.top/issues-blog/posts/15/</guid><description>ä»€ä¹ˆæ˜¯ OpenResty
OpenResty ä¸€ä¸ªåŸºäº Nginx çš„é«˜æ€§èƒ½ Web å¹³å°ï¼Œèƒ½å¤Ÿæ–¹ä¾¿åœ°æ­å»ºå¤„ç†è¶…é«˜å¹¶å‘çš„åŠ¨æ€ Web åº”ç”¨ã€
Web æœåŠ¡å’ŒåŠ¨æ€ç½‘å…³ã€‚ä¾‹å¦‚æœ‰åçš„ Kong ç½‘å…³å’Œå›½äº§æ–°ç§€ ApiSIX ç½‘å…³éƒ½æ˜¯åŸºäº OpenResty æ¥è¿›è¡Œæ‰“é€ çš„ã€‚
OpenResty é€šè¿‡å®ç° ngx_lua å’Œ stream_lua ç­‰ Nginx æ¨¡å—ï¼ŒæŠŠ Lua/LuaJIT å®Œç¾åœ°æ•´åˆè¿›äº† Nginxï¼Œä»è€Œè®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨ Nginx å†…éƒ¨é‡ŒåµŒå…¥ Lua è„šæœ¬ï¼Œç”¨ Lua è¯­è¨€æ¥å®ç°å¤æ‚çš„ HTTP/TCP/UDP ä¸šåŠ¡é€»è¾‘ï¼ŒåŒæ—¶ä¾ç„¶ä¿æŒç€é«˜åº¦çš„å¹¶å‘æœåŠ¡èƒ½åŠ›ã€‚
## å¤„ç†é˜¶æ®µ
ä¸€ä¸ªæ­£å¸¸çš„ Web æœåŠ¡çš„ç”Ÿå‘½å‘¨æœŸå¯ä»¥åˆ†æˆä¸‰ä¸ªé˜¶æ®µï¼š
1. initingï¼šæœåŠ¡å¯åŠ¨ï¼Œè¯»å–é…ç½®æ–‡ä»¶ï¼Œåˆå§‹åŒ–å†…éƒ¨æ•°æ®ç»“æ„
2. runningï¼šæœåŠ¡è¿è¡Œï¼Œæ¥å—å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œè¿”å›å“åº”ç»“æœ
3. exitingï¼šæœåŠ¡åœæ­¢ï¼Œåšä¸€äº›å¿…è¦çš„æ¸…ç†å·¥ä½œï¼Œå¦‚å…³é—­ç›‘å¬ç«¯å£
OpenResty ä¸»è¦å…³æ³¨çš„æ˜¯ initing å’Œ running è¿™ä¸¤ä¸ªé˜¶æ®µï¼Œå¹¶åšäº†æ›´ç»†è‡´çš„åˆ’åˆ†
### OpenResty çš„ initing é˜¶æ®µ
- configurationï¼šè¯»å–é…ç½®æ–‡ä»¶ï¼Œè§£æé…ç½®æŒ‡ä»¤ï¼Œè®¾ç½®è¿è¡Œå‚æ•°
- master-initingï¼šé…ç½®æ–‡ä»¶è§£æå®Œæ¯•ï¼Œmaster è¿›ç¨‹åˆå§‹åŒ–å…¬ç”¨çš„æ•°æ®
- worker-initingï¼šworker è¿›ç¨‹åˆå§‹åŒ–è‡ªå·±ä¸“ç”¨çš„æ•°æ®
### OpenResty çš„ running é˜¶æ®µ
åœ¨ running é˜¶æ®µï¼Œæ”¶åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚åï¼ŒOpenResty å¯¹æ¯ä¸ªè¯·æ±‚éƒ½ä¼šä½¿ç”¨ä¸‹é¢è¿™æ¡æµæ°´çº¿è¿›è¡Œå¤„ç†ï¼š
1.</description></item></channel></rss>